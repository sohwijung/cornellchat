<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">

    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="566450441737-0ea43ma364j713rs42fbt2hoci05kb0d.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <title>Cornell Chat</title>
</head>
<body>
    <div class="container text-center">
        <h1 class="cornellchat text-center my-3">Cornell Chat</h1>

        <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
        <script>
        function onSignIn(googleUser) {
            // Useful data for your client-side scripts:
            var profile = googleUser.getBasicProfile();
            console.log("ID: " + profile.getId()); // Don't send this directly to your server!
            console.log('Full Name: ' + profile.getName());
            console.log('Given Name: ' + profile.getGivenName());
            console.log('Family Name: ' + profile.getFamilyName());
            console.log("Image URL: " + profile.getImageUrl());
            console.log("Email: " + profile.getEmail());

            // The ID token you need to pass to your backend:
            var id_token = googleUser.getAuthResponse().id_token;
            console.log("ID Token: " + id_token);
        }
        </script>

        <div class="content-container" >

        <h5 class="pt-3 pb-1 ml-4">Choose a chatroom:</h3>
        <div class="chatrooms justify-content-center" id="chatrooms">
            <button class="btn btn-light ml-3" id="class">#class</button>
            <button class="btn btn-light ml-2" id="social">#social</button>
            <button class="btn btn-light ml-2" id="mental_health">#mental_health</button>
            <button class="btn btn-light ml-2" id="snow">#snow</button>
        </div>

        <!-- <h5 class="pt-3 pb-1">Don't see any you like? Make your own!</h5> -->
        <form class="new-chat-room my-3">
            <div class="justify-content-center">
            <div class="input-group col-log-4">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Chatroom:</div>
                        </div>

                        <div class = "col-xs-3" >
                            <input type="text" id="message" class="form-control" required>
                        </div>

                        <div class="input-group-append">
                            <input type="submit" class="btn btn-dark" value="Create">
                        </div>
                    </div>
                </div>
        </form>

    
            <div class="overflow-scroll" >
                <div class="chat-window">

                    <ul class="chat-list list-group"></ul>
                </div>
            </div>

            <div class="rightAlign">
                <form class="new-name my-3">

                    <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text">Name:</div>
                    </div>
                    <div class = "col-xs-3">
                        <input type="text" id="name" class="form-control" required>
                    </div>              
                        <div class="input-group-append">
                            <input type="submit" class="btn btn-dark" value="Update">
                        </div>
                    </div>
                    <div class="update-mssg text-center my-2"></div>
                </form>


                <form class="new-chat my-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">Message:</div>
                        </div>
                        <div class="col-xs-3">
                            <input type="text" id="message" class="form-control"  style="height: 60px"required>
                        </div>
                    <div class="input-group-append">
                        <input type="submit" class="btn btn-dark" value="Send">
                    </div>
                    </div>
                </form>
            </div>
            </div>



        </div>



    <script src="http://cdn.date-fns.org/v1.9.0/date_fns.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"></script>

    <script>
    var firebaseConfig = {
        apiKey: "AIzaSyBjHuozoKMmHncwMMhwSxaG0XeP234gb9Q",
        authDomain: "cornell-cha.firebaseapp.com",
        databaseURL: "https://cornell-cha.firebaseio.com",
        projectId: "cornell-cha",
        storageBucket: "cornell-cha.appspot.com",
        messagingSenderId: "446946645698",
        appId: "1:446946645698:web:b9f060014005724c4bcd5b",
        measurementId: "G-CYMTER1Y07"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    const db = firebase.firestore();
    </script>


    <script src="scripts/chat.js"></script>
    <script src="scripts/ui.js"></script>
    <script src="scripts/app.js"></script>

</body>
</html>